<div class="flex flex-col gap-6">
    <!-- Alert Banner -->
    <div class="bg-purple-100 border border-purple-200 rounded-xl p-4 flex gap-4 items-start w-11/12 mx-auto">
        <i class="pi pi-info-circle text-purple-600 text-2xl mt-1"></i>
        <div class="flex flex-col gap-1">
            <span class="font-bold text-gray-800 text-lg">Step 1: Configure Treatment Plan</span>
            <span class="text-purple-600">Set the duration and frequency of treatment sessions.</span>
        </div>
    </div>



    <!-- Plan Configuration Card -->
    <p-card>
        <ng-template pTemplate="title">
            <span class="text-xl font-bold">Plan Duration & Frequency</span>
        </ng-template>
        <div class="flex flex-col gap-6 mt-4">
            <!-- Weeks Input -->
            <div class="flex flex-col gap-2">
                <label class="font-medium text-gray-700">Total Number Of Weeks <span class="text-red-500">*</span></label>
                <input pInputText [(ngModel)]="numberOfWeeks" placeholder="eg., 12" class="w-full" type="number" />
                <small class="text-gray-500">Typical range: 8-16 weeks</small>
            </div>

            <!-- Sessions Input -->
            <div class="flex flex-col gap-2">
                <label class="font-medium text-gray-700">Total Number of Sessions <span class="text-red-500">*</span></label>
                <input pInputText [(ngModel)]="numberOfSessions" placeholder="eg., 3" class="w-full" type="number" />
            </div>
        </div>
    </p-card> 


        <!-- Template Selection Card -->
    <p-card>
        <div class="flex flex-col gap-4">
            <div class="flex items-center gap-2">
                <i class="pi pi-clone text-blue-600 text-xl"></i>
                <span class="text-xl font-bold">Use Treatment Plan Template</span>
            </div>
            <div class="flex items-center gap-2">
                <p-checkbox [(ngModel)]="useTemplate" [binary]="true" inputId="template" (onChange)="onToggleTemplate()"></p-checkbox>
                <label for="template" class="text-gray-700 cursor-pointer">Start from an existing template</label>
            </div>

            <!-- Templates List -->
            <div *ngIf="useTemplate" class="flex flex-col gap-4 mt-2">
                <span class="text-gray-600">Select a template to customize:</span>
                
                <div *ngFor="let template of templates" 
                     class="border rounded-xl p-4 cursor-pointer transition-all hover:border-blue-500 relative"
                     [ngClass]="{'border-blue-500 bg-blue-50/10': selectedTemplate === template, 'border-gray-200': selectedTemplate !== template}"
                     (click)="selectTemplate(template)">
                    
                    <div class="flex justify-between items-start">
                        <div class="flex flex-col gap-1">
                            <span class="font-bold text-gray-800 text-lg">{{ template.title }}</span>
                            <span class="text-gray-500 text-sm">{{ template.subtitle }}</span>
                            <span class="text-gray-600 mt-1">{{ template.description }}</span>
                            
                            <div class="flex items-center gap-4 mt-3 text-gray-600 text-sm">
                                <div class="flex items-center gap-1">
                                    <i class="pi pi-stopwatch"></i>
                                    <span>{{ template.duration }}</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="pi pi-calendar"></i>
                                    <span>{{ template.frequency }}</span>
                                </div>
                                <div class="flex items-center gap-1">
                                    <i class="pi pi-chart-bar"></i>
                                    <span>{{ template.phases }}</span>
                                </div>
                            </div>
                        </div>
                        
                        <div *ngIf="selectedTemplate === template" class="text-blue-500">
                            <i class="pi pi-check-circle text-xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </p-card>
</div>
